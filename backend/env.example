# =============================================================================
# BPL Commander - Environment Configuration Template
# =============================================================================
# 
# ⚠️  SECURITY WARNING:
# - Copy this file to .env and update with your actual values
# - NEVER commit .env files to version control (already in .gitignore)
# - Use strong, unique secrets in production
# - Keep this file secure and don't share it publicly
#
# ENVIRONMENT SWITCHING:
# The app supports multiple environment files that switch automatically:
# 
# Development Mode:
#   - Uses .env.development (if exists) or .env as fallback
#   - Run: npm run dev (automatically sets NODE_ENV=development)
#   - Or create: .env.development with NODE_ENV="development"
#
# Production Mode:
#   - Uses .env.production (if exists) or .env as fallback  
#   - Run: npm start (automatically sets NODE_ENV=production)
#   - Or create: .env.production with NODE_ENV="production"
#
# Quick Setup:
#   1. Copy .env.development.example to .env.development (for dev)
#   2. Copy .env.production.example to .env.production (for prod)
#   3. Update values in each file accordingly
#   4. The app will automatically load the correct file based on NODE_ENV
#
# =============================================================================

# =============================================================================
# SUPABASE CONFIGURATION (Required)
# =============================================================================
# Get these values from: https://supabase.com/dashboard/project/_/settings/api
# 
# SUPABASE_URL: Your Supabase project URL (format: https://[project-id].supabase.co)
# SUPABASE_ANON_KEY: Public anonymous key (safe to expose in frontend)
# SUPABASE_SERVICE_ROLE_KEY: Service role key (KEEP SECRET - backend only)

SUPABASE_URL="https://your-project-id.supabase.co"
SUPABASE_ANON_KEY="your_supabase_anon_key_here"
SUPABASE_SERVICE_ROLE_KEY="your_supabase_service_role_key_here"

# =============================================================================
# DATABASE CONFIGURATION (Required)
# =============================================================================
# Get connection string from: Supabase Dashboard → Settings → Database
# Use Pooler mode for connection pooling (recommended)
# 
# Format: postgresql://postgres.[project-id]:[password]@[host]:6543/postgres
# Note: URL-encode special characters in password (e.g., @ becomes %40)

DATABASE_URL="postgresql://postgres.your-project-id:your_password@aws-0-us-east-1.pooler.supabase.com:6543/postgres"

# =============================================================================
# JWT CONFIGURATION (Required)
# =============================================================================
# CRITICAL: Generate a strong, random secret for production!
# 
# Generate a secure secret:
#   - Linux/Mac: openssl rand -base64 64
#   - Node.js: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
#   - PowerShell: -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 64 | % {[char]$_})
#
# Production requirement: Minimum 64 characters
# Development: Minimum 32 characters

JWT_SECRET="your_super_secret_jwt_key_change_this_in_production"
JWT_EXPIRES_IN="24h"

# =============================================================================
# SERVER CONFIGURATION (Required)
# =============================================================================

# Port for the backend API server
PORT=3001

# Environment mode: development, production, or test
NODE_ENV="development"

# =============================================================================
# CORS CONFIGURATION (Required)
# =============================================================================
# Frontend URL(s) allowed to access this API
# For production: Use your actual domain (e.g., https://app.yourdomain.com)
# For development: http://localhost:5173 or http://localhost:3000

CORS_ORIGIN="http://localhost:3000"

# =============================================================================
# FILE UPLOAD CONFIGURATION (Required)
# =============================================================================

# Directory to store uploaded files (relative to backend root or absolute path)
UPLOAD_DIR="./uploads"

# Maximum file size in bytes (5MB = 5242880 bytes)
MAX_FILE_SIZE=5242880

# =============================================================================
# RATE LIMITING (Required)
# =============================================================================

# Time window for rate limiting (in milliseconds)
# 900000 ms = 15 minutes
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests allowed per window
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# NOTIFICATION SETTINGS (Required)
# =============================================================================

# Interval to check for new notifications (in milliseconds)
# 300000 ms = 5 minutes
NOTIFICATION_CHECK_INTERVAL=300000

# =============================================================================
# EMAIL CONFIGURATION (SMTP) - Optional
# =============================================================================
# Configure these for email notifications to work
# For Gmail: Use App Password (not regular password)
# Get App Password: Google Account → Security → 2-Step Verification → App passwords

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# 
# ✅ JWT_SECRET is changed to a strong random value (64+ chars)
# ✅ NODE_ENV is set to "production"
# ✅ CORS_ORIGIN points to your production frontend URL
# ✅ SUPABASE_SERVICE_ROLE_KEY is set (for admin operations)
# ✅ DATABASE_URL contains correct password (URL-encoded if needed)
# ✅ SMTP credentials are configured (if using email features)
# ✅ All placeholder values (your_*, your-*) are replaced
# ✅ .env file is NOT committed to git
#
# =============================================================================

